@page
@using SuperMovies.Models
@model IndexModel
@{
    ViewData["Title"] = "Home page";
}

@if(Model.ErrorMessage != null)
{
    <h5 class="text-center text-danger">** @Model.ErrorMessage **</h5>
    <br>
}

<div class="text-center">
    <a button class="btn btn-success" asp-page="./Create">Add Movie</a>
</div>

<br>

<div class="index-container">
    <form>
        <p>
            <input type="text" asp-for="SearchFor" />
            <input type="submit" value="Search" class="btn btn-info" />
        </p>
    </form>

    <table class="table">
        
        <th>Title</th>
        <th>Description</th>
        <th>Length</th>
        <th></th>
        <th></th>

        @foreach(Movie movie in Model.Movies)
        {
            <tr>
                <td>@movie.Title</td>
                <td>@movie.Description</td>
                <td>@movie.Length_Minutes minutes</td>
                <td><a button class="btn btn-danger" asp-page="./Delete" asp-route-id="@movie.Id">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line></svg>
                </a></td>
                <td><a button class="btn btn-primary" asp-page="./Update" asp-route-id="@movie.Id">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 14.66V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h5.34"></path><polygon points="18 2 22 6 12 16 8 16 8 12 18 2"></polygon></svg>
                </a></td>
            </tr>
        }
    </table>
</div>
